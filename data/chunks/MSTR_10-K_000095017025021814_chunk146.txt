The Company accounts for income taxes under the asset and liability method, which requires the recognition of deferred tax assets and deferred tax liabilities for the expected future tax consequences of events that have been included in the financial statements. Under this method, the Company determines deferred tax assets and deferred tax liabilities on the basis of differences between the financial statement and tax bases of assets and liabilities by using enacted tax rates in effect for the year in which differences are expected to reverse. The effect of a change in the tax rates on deferred tax assets and deferred tax liabilities is recognized in income in the period that includes the enactment date.
For uncertain income tax positions, the Company uses a more-likely-than-not recognition threshold based on the technical merits of the income tax position taken.  Income tax positions that meet the more-likely-than-not recognition threshold are measured in order to determine the tax benefit recognized in the financial statements.  The Company recognizes accrued interest related to unrecognized tax benefits as part of income tax expense.  Penalties, if incurred, are recognized as a component of income tax expense.
The Company provides a valuation allowance to reduce deferred tax assets to the amount more-likely-than-not to be realized.
(r) Basic and Diluted Earnings (Loss) Per Share
Basic earnings (loss) per share is determined by dividing the net income (loss) attributable to common stockholders by the weighted average number of shares of common stock, including shares of class A common stock and class B common stock, outstanding during the period.  Diluted earnings (loss) per share is determined by dividing the net income (loss) attributable to common stockholders by the weighted average number of shares of common stock and potential shares of common stock outstanding during the period.  The impact from potential shares of common stock on the diluted earnings per share calculation are included when dilutive.  Potential shares of common stock consisting of class A common stock issuable upon the exercise of outstanding employee stock options, the vesting of restricted stock units and performance stock units considered probable of achievement, and in connection with the 2021 ESPP, are computed using the treasury stock method.  Potential shares of class A common stock issuable upon conversion of the Company’s convertible senior notes are computed using the if-converted method. In computing diluted earnings per share, the Company first calculates the earnings per incremental share (“EPIS”) for each class of potential shares of common stock and ranks the classes from the most dilutive (i.e., lowest EPIS) to the least dilutive (i.e., highest EPIS). Basic earnings per share is then adjusted for the effect of each class of shares, in sequence and cumulatively, until a particular class no longer produces further dilution.
The Company has two classes of